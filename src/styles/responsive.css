/* ============================================
   RESPONSIVE DESIGN SYSTEM
   ============================================
   
   This file provides a modular, elegant responsive system
   using CSS custom properties (variables) and media queries.
   
   Strategy:
   1. Define responsive breakpoints
   2. Use CSS variables for dynamic sizing
   3. Apply mobile-first approach
   4. Scale board and UI elements proportionally
   ============================================ */

/* ============================================
   CSS CUSTOM PROPERTIES (Variables)
   ============================================ */
:root {
  /* Breakpoints */
  --breakpoint-xs: 480px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  
  /* Cell/Square Sizes - Mobile First */
  --cell-size: 40px;          /* Base for mobile */
  --board-gap: 2px;
  --board-border-width: 2px;
  
  /* Spacing */
  --container-padding: 12px;
  --panel-gap: 16px;
  --control-gap: 8px;
  
  /* Font Sizes */
  --font-size-h1: 1.75rem;
  --font-size-h2: 1.25rem;
  --font-size-h3: 1rem;
  --font-size-body: 0.875rem;
  --font-size-piece: 1.5em;    /* Relative to cell size */
  --font-size-piece-btn: 2em;
  
  /* Panel Widths */
  --left-panel-width: 100%;    /* Full width on mobile */
  --piece-btn-size: 70px;
  --piece-grid-columns: 3;
  
  /* Coordinate Labels */
  --coord-font-size: 0.75rem;
  --coord-item-size: var(--cell-size);
}

/* ============================================
   SMALL DEVICES (Tablets, 640px and up)
   ============================================ */
@media (min-width: 640px) {
  :root {
    --cell-size: 45px;
    --container-padding: 16px;
    --panel-gap: 20px;
    --font-size-h1: 2rem;
    --font-size-h2: 1.375rem;
    --font-size-body: 0.9375rem;
    --piece-btn-size: 75px;
    --coord-font-size: 0.8125rem;
  }
}

/* ============================================
   MEDIUM DEVICES (Landscape tablets, 768px and up)
   ============================================ */
@media (min-width: 768px) {
  :root {
    --cell-size: 48px;
    --container-padding: 20px;
    --panel-gap: 24px;
    --font-size-h1: 2.25rem;
    --font-size-h3: 1.125rem;
    --font-size-body: 1rem;
    --left-panel-width: 260px;
    --piece-btn-size: 78px;
    --coord-font-size: 0.875rem;
  }
}

/* ============================================
   LARGE DEVICES (Laptops/Desktops, 1024px and up)
   ============================================ */
@media (min-width: 1024px) {
  :root {
    --cell-size: 52px;
    --container-padding: 24px;
    --panel-gap: 32px;
    --font-size-h1: 2.5rem;
    --font-size-h2: 1.5rem;
    --font-size-body: 1rem;
    --left-panel-width: 280px;
    --piece-btn-size: 80px;
    --board-border-width: 3px;
    --coord-font-size: 0.9375rem;
  }
}

/* ============================================
   EXTRA LARGE DEVICES (Large desktops, 1280px and up)
   ============================================ */
@media (min-width: 1280px) {
  :root {
    --cell-size: 56px;
    --left-panel-width: 300px;
    --piece-btn-size: 85px;
  }
}

/* ============================================
   RESPONSIVE CONTAINER LAYOUTS
   ============================================ */

/* Base container - mobile first */
.dominance-container,
.independents-container,
.coordinates-container,
.puzzles-container {
  padding: var(--container-padding);
  min-height: 100vh;
}

/* Game content layout */
.game-content {
  flex-direction: column;
  gap: var(--panel-gap);
  padding: var(--container-padding);
  width: 100%;
  max-width: 100%;
}

/* Switch to horizontal layout on larger screens */
@media (min-width: 768px) {
  .game-content {
    flex-direction: row;
    padding: calc(var(--container-padding) * 1.2);
  }
}

/* Left panel responsive */
.left-panel {
  width: var(--left-panel-width);
  gap: var(--control-gap);
  min-width: 0; /* Prevent overflow */
}

/* ============================================
   RESPONSIVE BOARD SYSTEM
   ============================================ */

/* Cell sizing */
.cell {
  width: var(--cell-size) !important;
  height: var(--cell-size) !important;
  font-size: var(--font-size-piece);
}

/* Chessboard */
.chessboard {
  border-width: var(--board-border-width);
}

/* Coordinate items */
.coord-item {
  width: var(--coord-item-size);
  height: var(--coord-item-size);
  font-size: var(--coord-font-size);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Board with ledger - responsive grid */
.board-with-ledger {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: auto 1fr auto;
  gap: 0;
  max-width: 100%;
  overflow-x: auto; /* Allow horizontal scroll on very small screens */
}

/* ============================================
   RESPONSIVE TYPOGRAPHY
   ============================================ */

.game-header h1 {
  font-size: var(--font-size-h1);
  margin-bottom: 0.5rem;
}

.game-header p {
  font-size: var(--font-size-body);
  margin-bottom: 0.75rem;
}

.piece-selector h3,
.stats-panel h3 {
  font-size: var(--font-size-h3);
  margin-bottom: 0.75rem;
}

/* ============================================
   RESPONSIVE PIECE BUTTONS
   ============================================ */

.piece-btn {
  width: var(--piece-btn-size) !important;
  height: var(--piece-btn-size) !important;
  min-width: var(--piece-btn-size);
  min-height: var(--piece-btn-size);
}

.piece-buttons {
  grid-template-columns: repeat(var(--piece-grid-columns), var(--piece-btn-size));
  gap: var(--control-gap);
  justify-content: start;
}

.piece-symbol {
  font-size: var(--font-size-piece-btn);
}

/* ============================================
   RESPONSIVE SIZE CONTROLS
   ============================================ */

.size-controls {
  flex-wrap: wrap;
  padding: calc(var(--container-padding) * 0.75);
  gap: var(--control-gap);
  justify-content: center;
}

.size-controls button {
  padding: 0.5rem 1rem;
  font-size: var(--font-size-body);
  min-width: 3rem;
}

/* Smaller buttons on mobile */
@media (max-width: 639px) {
  .size-controls button {
    padding: 0.375rem 0.75rem;
    font-size: 0.8125rem;
  }
}

/* ============================================
   RESPONSIVE STATS PANEL
   ============================================ */

.stats-panel {
  padding: calc(var(--container-padding) * 0.75);
  font-size: var(--font-size-body);
}

.stat-item {
  margin-bottom: calc(var(--control-gap) * 1.5);
  font-size: var(--font-size-body);
}

/* ============================================
   RESPONSIVE MESSAGE BAR
   ============================================ */

.message-bar {
  margin-top: var(--control-gap);
  padding: 0 var(--container-padding);
}

.victory {
  padding: calc(var(--container-padding) * 0.75);
  font-size: var(--font-size-body);
  margin: 0.5rem 0;
}

/* ============================================
   MOBILE OPTIMIZATIONS (Portrait phones)
   ============================================ */
@media (max-width: 639px) {
  /* Stack everything vertically */
  .game-content {
    align-items: center;
  }
  
  /* Center board on mobile */
  .board-container {
    width: 100%;
    display: flex;
    justify-content: center;
    overflow-x: auto;
  }
  
  /* Reduce piece button grid to 2 columns on very small screens */
  @media (max-width: 400px) {
    :root {
      --piece-grid-columns: 2;
      --piece-btn-size: 65px;
      --cell-size: 36px;
    }
  }
  
  /* Hide decorative elements on very small screens */
  .game-header p {
    font-size: 0.8125rem;
  }
}

/* ============================================
   LANDSCAPE MODE OPTIMIZATIONS
   ============================================ */
@media (max-height: 600px) and (orientation: landscape) {
  :root {
    --container-padding: 8px;
    --font-size-h1: 1.5rem;
    --panel-gap: 12px;
  }
  
  .game-header h1 {
    margin-bottom: 0.25rem;
  }
  
  .game-header p {
    margin-bottom: 0.5rem;
  }
  
  .left-panel {
    gap: 8px;
  }
  
  .stats-panel,
  .piece-selector {
    padding: 8px;
  }
}

/* ============================================
   PRINT STYLES (Bonus)
   ============================================ */
@media print {
  .dominance-container,
  .independents-container {
    background: white !important;
  }
  
  .size-controls,
  .controls,
  .piece-selector {
    display: none !important;
  }
  
  .game-content {
    box-shadow: none !important;
  }
}

/* ============================================
   HIGH DPI SCREENS (Retina displays)
   ============================================ */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .piece {
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  }
}

/* ============================================
   ACCESSIBILITY - Reduced Motion
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================
   DARK MODE SUPPORT (Future-proof)
   ============================================ */
/* 
@media (prefers-color-scheme: dark) {
  :root {
    --bg-color: #1a1a1a;
  }
}
*/
